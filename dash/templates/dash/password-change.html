{% extends 'dash/base.html' %}
{% block title %}Settings{% endblock %}
{% block content %}
<div class="container">
  <div class="row">
    <button class="btn btn-info" onclick="history.back(-1);"><i class="fas fa-arrow-left"></i> Go back</button>
    <a href="{% url 'dash:index'%}"><button type="button" class="ml-2 btn btn-dark float-right">Dashboard</button></a>
  </div>  
<div class="row">
  <div class="col-sm-12 mt-4">
    <h4 class="text-dark font-weight-bold">Change Password</h4>
  </div>
</div>

{% if messages %}
<div class="row">
    <div class="col-sm-12">
        {% for message in messages %}
            <div {% if message.tags %} class="alert alert-{{ message.tags }} alert-dismissible"{% endif %}>{{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
            </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<div class="row">
    <div class="col-sm-12">
        <form method="POST">
            {% csrf_token %}
            <div class="row">
                <div class="col-sm-12">
                    <div class="form-group has-error">
                        <label class="control-label" for="inputError">Old Password</label>
                        {{ form.old_password }}
                        <span class="help-block">
                            {% if form.old_password.errors %}
                                <small class="text-danger">{{ form.old_password.errors|striptags }}</small>
                            {% endif %}
                        </span>
                      </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <div class="form-group has-error">
                        <label class="control-label" for="inputError">New Password</label>
                        {{ form.new_password1 }}
                        <span class="help-block">
                            {% if form.new_password1.errors %}
                                <small class="text-danger">{{ form.new_password1.errors|striptags }}</small>
                            {% endif %}
                        </span>
                      </div>
                </div>
                <div class="col-sm-12">
                    <div class="form-group has-error">
                        <label class="control-label" for="inputError">Repeat New Password</label>
                        {{ form.new_password2 }}
                        <span class="help-block">
                            {% if form.new_password2.errors %}
                                <small class="text-danger">{{ form.new_password2.errors|striptags }}</small>
                            {% endif %}
                        </span>
                      </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary float-right">Change Password</button> 
        </form>  
    </div>
</div>
{% endblock %}